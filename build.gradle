apply plugin: 'java'
apply plugin: 'application'

sourceCompatibility = 1.8
mainClassName = "edu.mcw.rgd.indexer.Manager"
applicationDefaultJvmArgs = ["-Dgreeting.language=en"]
String myAppName="ESIndexer"

    repositories {
        mavenCentral()
    }

    dependencies {
        testCompile group: 'junit', name: 'junit', version: '4.11'
        compile fileTree(dir: 'lib', include: '*.jar')
        compile group: 'org.elasticsearch', name: 'elasticsearch', version: '6.4.0'
        compile group: 'org.elasticsearch.client', name: 'transport', version: '6.4.0'
        // https://mvnrepository.com/artifact/org.apache.lucene/lucene-core
        compile group: 'org.apache.lucene', name: 'lucene-core', version: '7.4.0'



    }
    startScripts {
        applicationName = myAppName
    	}

    jar {
      baseName = myAppName
      manifest {
       	        attributes(
                            'Built-By': System.getProperty('user.name'),
                          'Built-Date': new Date(),
                         'Built-JDK': System.getProperty('java.version')
                       )
          }
    	}

    distributions {
    	    main {
        	        baseName = myAppName
          }
   	}
